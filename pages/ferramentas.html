<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ferramentas - ProMaratona</title>
    <!-- Import CSS -->
    <link rel="stylesheet" href="/style/body.css">
    <link rel="stylesheet" href="/style/navBar.css">
    <link rel="stylesheet" href="/style/footer.css">
    <link rel="stylesheet" href="/style/font.css">
    <link rel="stylesheet" href="/style/banner.css">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" />
    <!-- Link para o CSS externo -->
    <link rel="stylesheet" href="styles.css" />
    <link rel="shotcut icon" href="../img/logoBaloes.png" type="image/x-icon" />
</head>

<body>
    <!-- Navigation bar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a href="index.html" class="navbar-brand">
                <img src="../img/promaratona_logo.gif" class="logo-img" />
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span><img src="../img/menu.png" class="menu-img" /></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Treinamento</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="dropdown2" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">Ferramentas</a>
                        <ul class="dropdown-menu" aria-labelledby="dropdown2">
                            <li><a class="dropdown-item" href="ferramentas.html#ambiente-boca">Ambiente BOCA</a></li>
                            <li><a class="dropdown-item" href="ferramentas.html#como-instalar-boca">
                                    Como Instalar o BOCA</a></li>
                            <li><a class="dropdown-item" href="ferramentas.html#criacao-contest">Criação de Contest</a>
                            </li>
                            <li><a class="dropdown-item" href="ferramentas.html#perguntas-frequentes">Perguntas
                                    Frequentes</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="dropdown3" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Conheça Mais
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="dropdown3">
                            <li><a class="dropdown-item" href="#">OBI</a></li>
                            <li><a class="dropdown-item" href="#">Maratona Mineira</a></li>
                            <li><a class="dropdown-item" href="#">Maratona SBC</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="wrapper">
        <!-- Main content -->
        <main class="container py-4 col-lg-8">

            <!-- SEÇÃO: Ambiente BOCA -->
            <section id="ambiente-boca" class="py-5">
                <div class="container">
                    <h1>Ambiente BOCA</h1>
                    <p class="text-secondary mb-4">
                        BOCA (BOCA Online Contest Administrator) é uma plataforma de gerenciamento de competições de
                        programação. <br>
                        Conheça os pré-requisitos para a sua instalação e entenda como configurar o
                        seu ambiente para utilizar o BOCA.
                    </p>
                </div>
            </section>

            <!-- SEÇÃO: Como Instalar o BOCA -->
            <section id="como-instalar-boca" class="py-5">
                <div class="container">

                    <h1>Como Instalar o BOCA</h1>

                    <p class="text-secondary mb-4">
                        Confira os passos necessários para instalar o BOCA em diferentes sistemas operacionais.
                    </p>

                    <h2>Pré-requisitos</h2>

                    <ul>
                        <li>Instalar o Docker;</li>
                        <li>Configurar o WSL 2 (Windows Subsystem for Linux) no Windows, se aplicável.</li>
                    </ul><br>

                    <!-- INÍCIO DO TUTURIAL DE INSTALAÇÃO DO DOCKER -->
                    <h2>Tutorial de Instalação do Docker</h2>
                    <p>Docker é uma ferramenta de conteinerização que permite criar ambientes modulares e leves, em
                        comparação às máquinas virtuais. Nesse tutorial iremos abordar a instalação e configuração do
                        Docker em duas plataformas, Windows e Linux.</p>

                    <h3>Preparando o Ambiente Windows</h3>

                    <p>Existem duas maneiras para obter o Docker no Windows, o Docker Desktop e o Docker Engine. Ambas
                        as opções requerem o uso do WSL 2 (Subsistema do Windows para Linux), que permite executar uma
                        distribuição Linux sem a necessidade de uma máquina virtual.</p>
                    <p>Nesta subseção, abordaremos como instalar o Docker Engine, pois esse método é mais semelhante ao
                        funcionamento no Linux nativo e oferece maior eficiência.</p>

                    <h4>Requisitos mínimos para o WSL 2:</h4>

                    <ul>
                        <li>Windows 10 versão 2004 ou superior;</li>
                        <li>Windows 11 versão 22000 ou superior;</li>
                        <li>4 GB de memória RAM (recomendado: 8 GB);</li>
                        <li>Processador compatível com virtualização.</li>
                    </ul>
                    <p>Para conseguir uma performance estável, mantenha o Windows atualizado, pois as dependências do
                        WSL 2 são frequentemente aprimoradas pelo Windows Update.</p>

                    <h4>Instalação do WSL 2</h4>

                    <p>No powershell, siga os passos:</p>
                    <p>No windows 10 a partir da versão 2004 ou no Windows 11 o WSL já está instalado.</p>
                    <p>Para atualizar o WSL, digite:</p>

                    <pre><code>wsl --update</code></pre>

                    <p>Atribua a versão 2 como padrão do WSL, digite:</p>

                    <pre><code>wsl --set-default-version 2</code></pre>

                    <p>Iremos instalar o Ubuntu, distribuição padrão do WSL. Para isso, execute o seguinte comando:</p>

                    <pre><code>wsl --install</code></pre>

                    <p>Após instalar o Ubuntu, abrirá um novo terminal, sendo o próprio ambiente Linux pedindo o nome de
                        usuário (<i>Unix username</i>) e a senha (<i>password</i>). Cuidado para não colocar uma senha
                        que vá esquecer, ela será necessária em outros momentos.</p>
                    <p>Caso não apareça o novo terminal provavelmente sua máquina estará com a opção de virtualização
                        desativada. Nesse caso, procure em um tutorial específico para sua placa-mãe (ou no próprio
                        manual que vêm com ela) sobre como ativar a virtualização.</p>
                    <p>Para acessar o Linux, na barra “Pesquisar” do Windows digite Ubuntu e tecle Enter.</p>
                    <p>Após instalar o Ubuntu dentro do WSL 2, a instalação do Docker será a mesma no Windows e no
                        Linux.</p>

                    <h3>Instalando Docker (válido para Ubuntu e WSL 2)</h3>

                    <p>Caso esteja no Ubuntu, entre no terminal. Caso esteja usando o Windows, na barra de pesquisa
                        procure por Ubuntu e tecle Enter. Independentemente do seu sistema operacional, siga os passos
                        abaixo.</p>
                    <p>Para evitar conflito de pacotes, execute:</p>
                    <p>Obs.: será preciso inserir a sua senha de usuário do Ubuntu, que foi configurada durante a
                        instalação do mesmo.</p>

                    <pre><code>for pkg in docker.io docker-doc docker-compose docker-compose-v2 podman-docker containerd runc; do sudo apt-get remove $pkg; done</code></pre>

                    <p>Antes de instalar o Docker, execute o seguinte comando para configurar sua máquina:</p>

                    <pre><code># Add Docker's official GPG key:
sudo apt-get update
sudo apt-get install ca-certificates curl
sudo install -m 0755 -d /etc/apt/keyrings
sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
sudo chmod a+r /etc/apt/keyrings/docker.asc

# Add the repository to Apt sources:
echo \
"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
$(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \
sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
sudo apt-get update</code></pre>

                    <p>Para instalar a versão mais recente do Docker, execute (obs.: se te for perguntado algo como:
                        “After this operation, some additional disk space will be used. Do you want to continue? [Y/n]”,
                        tecle y e Enter):</p>

                    <pre><code>sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</code></pre>

                    <p>Verifique se a instalação foi bem sucedida executando a imagem hello-world:</p>

                    <pre><code>sudo docker run hello-world</code></pre>

                    <p>Deverá aparecer uma mensagem semelhante a essa:</p>

                    <img src="../img/ferramentas/docker 1.png"
                        alt="Imagem da resposta obtida ao executar container hello-world."><br><br>

                    <p>Pronto, você instalou o Docker com sucesso!</p><br>
                    <p>Caso não tenha sido bem sucedido até aqui, confira as <a
                            href="ferramentas.html#perguntas-frequentes">Perguntas Frequentes</a>.</p>
                    <!-- FIM DO TUTURIAL DE INSTALAÇÃO DO DOCKER -->

                    <!-- INÍCIO DO TUTORIAL DE INSTALAÇÃO DO BOCA -->
                    <h2>Instalação do BOCA no Windows (com WSL 2)</h2><br>

                    <p>Observações iniciais: </p>
                    <ul>
                        <li>Sempre que te forem feitas perguntas no terminal cujas opções de resposta são [Y/n], tecle Y
                            e
                            tecle Enter.</li>
                        <li>Antes de qualquer alteração sempre realizar apt-get update e apt-get upgrade com fim de
                            obter
                            sempre os recursos mais recentes.</li>
                        <li>Para a instalação do BOCA conteinerizado utilizaremos o projeto do João Vitor Fazolo, nele
                            temos
                            a imagem de três contêineres, o boca-web, boca-jail e o banco de dados PostgreSQL. Os três
                            containers trabalharam em conjunto para o funcionamento do BOCA.</li>
                    </ul>
                    <p>
                        Após instalado o Docker e o WSL 2, abra o terminal do Linux Ubuntu na sua máquina. Para isso,
                        será necessário pesquisar por Ubuntu no Menu Iniciar do Windows.
                    </p>

                    <img src="../img/ferramentas/boca windows 1.png"
                        alt="Pesquisando por Ubuntu no Menu Iniciar do Windows."><br><br>

                    <p>Obs.: A primeira vez que colocar um comando com a palavra “sudo” após abrir o terminal será
                        necessário digitar a sua senha (que foi configurada na instalação do WSL 2) e teclar Enter para
                        executar o comando.</p>
                    <p>No Ubuntu digite:</p>

                    <pre><code>sudo docker ps</code></pre>

                    <p>Se, após este comando, não houver nenhum container funcionando (o que é esperado, caso não tenha
                        usado o Docker e esteja seguindo o tutorial do zero), aparecerá como retorno o seguinte no seu
                        terminal:</p>

                    <img src="../img/ferramentas/boca windows 2.png"
                        alt="Resposta à primeira execução do comando docker ps."><br><br>

                    <p>Após isso, crie uma pasta onde baixará os arquivos ‘docker-compose.yml’ e
                        ‘docker-compose.prod.yml’ que são encontrados no <a
                            href="https://github.com/joaofazolo/boca-docker" target="_blank">repositório do GitHub
                            boca-docker do João Fazolo</a> (recomendamos criar uma pasta na raiz do sistema, direto no
                        “C:\”, com o nome de “boca” e baixar os arquivos aí dentro). Confira na imagem a seguir quais
                        arquivos estamos nos referindo. Os destacamos com um retângulo vermelho.</p>

                    <img src="../img/ferramentas/boca windows 3.png"
                        alt="Indicação visual de quais são os arquivos necessários."><br><br>

                    <p>Obs.: para baixar arquivos no GitHub, basta clicar sobre o arquivo desejado e depois procurar
                        pela opção:</p>

                    <img src="../img/ferramentas/boca windows 3.1.png"
                        alt="Indicação visual da opção de baixar arquivo no GitHub."><br><br>

                    <p>Após tê-los baixado, será preciso transferi-los do Windows para o Ubuntu no WSL 2. Para isso,
                        será necessário entender como acessar e manipular arquivos no terminal.</p>
                    <p>Se você seguiu os passos anteriores, agora os dois arquivos estão na pasta “boca” no seu
                        diretório “C:\”.</p>
                    <p>Resumidamente, o procedimento é acessar o diretório “C:\” do Windows, copiar a pasta “boca” e
                        colar no diretório “home” do Ubuntu.</p>

                    <img src="../img/ferramentas/boca windows 4.png"
                        alt="Diagrama para ilustrar o processo de transferência de arquivo." width="640"
                        height="215"><br><br>

                    <p>Para acessar o diretório “C:\boca” do Windows no terminal do Ubuntu, execute o comando: </p>

                    <pre><code>cd /mnt/c</code></pre>

                    <p>Naturalmente, “cd” é o comando do bash do Linux para mudar de diretório. Com o “/mnt/c” criaremos
                        um ponto de montagem do sistema de arquivos do Windows, possibilitando o acesso do Ubuntu aos
                        arquivos.</p>
                    <p>Agora, copiamos a pasta “boca” para o Linux com o seguinte comando: (sendo “usuario” o nome do
                        seu usuário Linux) </p>

                    <pre><code>sudo cp -r /mnt/c/boca /home/usuario</code></pre>

                    <p>Nesse ponto você tem acesso à pasta “boca” pelo próprio Ubuntu. Acesse sua pasta /home/usuario:
                    </p>

                    <pre><code>cd /home/usuario/boca</code></pre>

                    <p>Agora, que estamos dentro do diretório da pasta “boca” no Ubuntu, execute o comando:</p>

                    <pre><code>sudo docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d</code></pre>

                    <p>
                        Ao final da execução confira se aparece o que está na imagem abaixo:
                    </p>

                    <img src="../img/ferramentas/boca windows 5.png"
                        alt="Resposta no terminal de que os containeres foram executados com sucesso."><br><br>

                    <p>
                        Se está como o que foi mostrado na imagem acima, então deu certo a criação do container BOCA, ou
                        seja, você já o possui funcionando na sua máquina.
                    </p>
                    <p>
                        Para acessar a interface do BOCA entre em:
                    </p>

                    <pre><code>http://localhost:8000/boca</code></pre>

                    <p>
                        Para criar um contest entre com usuário: system | senha: boca. Para gerenciar os usuários entre
                        com usuário: admin | senha: boca.
                    </p><br>
                    <!-- FIM DO TUTORIAL DE INSTALAÇÃO DO BOCA NO WINDOWS-->


                    <!-- INÍCIO DO TUTORIAL DE INSTALAÇÃO DO BOCA NO LINUX UBUNTU -->

                    <h2>Instalação do BOCA no Linux Ubuntu</h2>
                    <p>Tutorial de Instalação do BOCA Conteinerizado para Linux Ubuntu</p>
                    <p>Observações iniciais: </p>
                    <ul>
                        <li>Sempre que te forem feitas perguntas no terminal cujas opções de resposta são [Y/n], tecle Y
                            e
                            tecle Enter.</li>
                        <li>Antes de qualquer alteração sempre realizar apt-get update e apt-get upgrade com fim de
                            obter
                            sempre os recursos mais recentes.</li>
                        <li>Para a instalação do BOCA conteinerizado utilizaremos o projeto do João Vitor Fazolo, nele
                            temos
                            a imagem de três contêineres, o boca-web, boca-jail e o banco de dados PostgreSQL. Os três
                            containers trabalharam em conjunto para o funcionamento do BOCA.</li>
                    </ul>
                    <p>Abra o terminal e digite:</p>

                    <pre><code>sudo docker ps</code></pre>

                    <p>Se, após este comando, não houver nenhum container funcionando (o que é esperado, caso não tenha
                        usado o Docker e esteja seguindo o tutorial do zero), aparecerá como retorno o seguinte no seu
                        terminal:</p>

                    <img src="../img/ferramentas/boca windows 2.png"
                        alt="Resposta à primeira execução do comando docker ps."><br><br>

                    <p>Após isso, crie uma pasta onde baixará os arquivos ‘docker-compose.yml’ e
                        ‘docker-compose.prod.yml’ que são encontrados no <a
                            href="https://github.com/joaofazolo/boca-docker" target="_blank">repositório do GitHub
                            boca-docker do João Fazolo</a>. De preferência crie a pasta “boca” no diretório
                        “/home/usuario” sendo “usuario” o nome do seu usuário do linux.
                    </p>

                    <img src="../img/ferramentas/boca windows 3.png"
                        alt="Indicação visual de quais são os arquivos necessários."><br><br>


                    <p>Agora, que estamos dentro do diretório em que se encontram os arquivos baixados, execute o
                        comando:</p>

                    <pre><code>sudo docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d</code></pre>

                    <p>
                        Ao final da execução confira se aparece o que está na imagem abaixo:
                    </p>

                    <img src="../img/ferramentas/boca windows 5.png"
                        alt="Resposta no terminal de que os containeres foram executados com sucesso."><br><br>

                    <p>
                        Se está como o que foi mostrado na imagem acima, então deu certo a criação do container BOCA, ou
                        seja, você já o possui funcionando na sua máquina.
                    </p>
                    <p>
                        Para acessar a interface do BOCA entre em:
                    </p>
                    <pre><code>http://localhost:8000/boca</code></pre>
                    <p>
                        Para criar um contest entre com usuário: system | senha: boca. Para gerenciar os usuários entre
                        com usuário: admin | senha: boca.
                    </p>
                    <!-- FIM DO TUTORIAL DE INSTALAÇÃO DO BOCA NO LINUX UBUNTU -->
                </div>
            </section>


            <!-- REVISAR TEXTO A SEGUIR -->
            <!-- SEÇÃO: Criação de Contest -->
            <section id="criacao-contest" class="py-5">
                <div class="container">
                    <h1>Criação de Contest no BOCA</h1>
                    <p class="text-secondary mb-4">
                        Saiba como criar e configurar um contest no BOCA para competições de programação.
                    </p>
                    <h2>Criando um Contest</h2>
                    <p>
                        Siga esse passo a passo para criar e ativar um contest:
                    </p>
                    <p>
                        Vá para aba contest, então em new.
                    </p>

                    <p>
                        Altere as informações que achar necessárias e então clique em activate. Clique em OK.
                        (Altere/Verifique as informações do novo concurso criado e clique em "Enviar". Em seguida,
                        clique em "Ativar" para ativar o novo concurso (depois disso, você será desconectado
                        automaticamente)).
                    </p>

                    <p>
                        Aqui estão algumas explicações sobre os campos disponíveis:
                    </p>
                    <ul>
                        <li>Nome: nome do concurso</li>
                        <li>Data de início: quando o concurso começará</li>
                        <li>Duração: quantos minutos o concurso tem</li>
                        <li>Parar de responder: número de minutos dos quais as equipes não recebem as informações se
                            suas corridas foram aceitas ou não. Normalmente, escolha 285 para quinze minutos sem
                            respostas para as equipes.</li>
                        <li>Parar placar: número de minutos dos quais o placar fica congelado (para manter o vencedor em
                            segredo :-). Valor usual: 240.</li>
                        <li>Penalidade: número de minutos que uma equipe é penalizada para cada vez que envia um código
                            que não é aceito (esses minutos são contados apenas se a equipe receber um SIM para o
                            problema correspondente, como feito em concursos do tipo ACM-ICPC). Valor usual: 20.</li>
                        <li>Tamanho máximo de arquivo permitido para equipes: por motivos de segurança. Se você sabe que
                            os arquivos de código-fonte são maiores, escolha outro valor.</li>
                        <li>Número do site principal do concurso: que é o site principal do concurso (no caso de
                            concursos multisite). Normalmente 1. SE ESTIVER REALIZANDO VÁRIOS SITES, TENHA CERTEZA DE
                            USAR OS NÚMEROS CORRIDOS AQUI ATRIBUÍDOS POR QUEM ESTÁ COORDENANDO O CONCURSO MULTI-SITE!!
                        </li>
                        <li>Número do site local do concurso: que é o número do site atual do concurso (no caso de
                            concursos multisite). SE ESTIVER REALIZANDO VÁRIOS SITES, TENHA CERTEZA DE USAR OS NÚMEROS
                            CORRIDOS AQUI ATRIBUÍDOS POR QUEM ESTÁ COORDENANDO O CONCURSO MULTI-SITE!!</li>
                    </ul>
                    <p>
                        Após criar e ativar um contest, logue com ‘admin’ e ‘boca’ para gerenciar usuários, problemas,
                        linguagens, etc.
                    </p>
                    <p>
                        Troque sua senha para uma senha segura.
                    </p>
                </div>
            </section>

            <!-- SEÇÃO: Perguntas Frequentes -->
            <section id="perguntas-frequentes" class="py-5">
                <div class="container">
                    <h1>Perguntas Frequentes</h1>
                    <p class="text-secondary mb-4">
                    <ul>
                        <li>Como faço quando o container hello-world não é executado?
                            <ol>
                                <li>Primeiro, desinstale o Docker.</li>
                                <li>Depois, instale-o novamente.</li>
                                <li>Referência para instalação e desinstalação: <a
                                        href="https://docs.docker.com/engine/install/ubuntu/"
                                        target="_blank">https://docs.docker.com/engine/install/ubuntu/</a></li>
                            </ol>
                        </li>

                    </ul>
                    </p>
                </div>
            </section>

        </main>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container_footer">
            <ul>
                <h3>Grupo de Programação Competitiva</h3>
                <p>Projeto de extensão do Instituto Federal do Triângulo Mineiro</p>
                <div class="logo_footer">
                    <img src="../img/promaratonaWhite.png" class="logo_footer_img" alt="Logo 1" />
                    <img src="../img/if.png" class="logo_footer_img" alt="Logo 2" />
                </div>
            </ul>
            <ul>
                <h3>Treinamento</h3>
                <li><a href="#">Sites de Estudo</a></li>
                <li><a href="#">Principais Competições</a></li>
            </ul>
            <ul>
                <h3>Ferramentas</h3>
                <li><a href="ferramentas.html#ambiente-boca">Ambiente BOCA</a></li>
                <li><a href="ferramentas.html#como-instalar-boca">Como instalar o BOCA</a></li>
                <li><a href="ferramentas.html#criacao-contest">Criação de Contest</a></li>
                <li><a href="ferramentas.html#perguntas-frequentes">Perguntas Frequentes</a></li>

            </ul>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>